# anesthesia_calculator.py

import sys

# قاعدة بيانات بسيطة للأدوية والجرعات (mg/kg)
drugs = {
    "Propofol": 2,      # 2 mg/kg
    "Midazolam": 0.1,   # 0.1 mg/kg
    "Fentanyl": 0.001,  # 1 µg/kg = 0.001 mg/kg
    "Ketamine": 1       # 1 mg/kg
}

def calculate_dose(drug, weight):
    if drug not in drugs:
        return None
    dose_per_kg = drugs[drug]
    return dose_per_kg * weight

def main():
    print("=== حاسبة جرعة التخدير ===\n")
    
    try:
        weight = float(input("أدخل وزن المريض بالكيلوغرام: "))
        age = int(input("أدخل عمر المريض بالسنوات: "))
        height = float(input("أدخل طول المريض بالسنتيمتر: "))
    except ValueError:
        print("الرجاء إدخال أرقام صحيحة.")
        sys.exit(1)
    
    print("\nالأدوية المتاحة:")
    for i, drug in enumerate(drugs.keys(), 1):
        print(f"{i}. {drug}")
    
    choice = input("\nاختر رقم الدواء: ")
    try:
        drug = list(drugs.keys())[int(choice)-1]
    except (ValueError, IndexError):
        print("اختيار غير صحيح.")
        sys.exit(1)
    
    dose = calculate_dose(drug, weight)
    print(f"\nالجرعة المحسوبة لـ {drug} هي: {dose:.2f} mg\n")
    
    # شات بسيط
    while True:
        user_input = input("اسأل عن أي شيء يخص التخدير أو اكتب 'خروج' للخروج: ")
        if user_input.lower() == "خروج":
            break
        else:
            # مثال بسيط للردود
            print(f"[AI]: نصيحة عامة: تحقق دائمًا من جرعة {drug} حسب وزن المريض ووجود أي أمراض مزمنة.")

if name == "main":
    main()
